/*! nmedia 2014-02-26 */
define(["jquery","underscore","backbone","text!templates/progressTemplate.html"],function(a,b,c,d){var e=c.View.extend({events:{"click .progress-actions .change-progress":"clickChangeProgress"},initialize:function(){this.render()},render:function(){return a(this.el).html(d),this},clickChangeProgress:function(b){var c=parseInt(a(b.currentTarget).attr("data-value"),10),d=a(".progress-list").val(),e=a(".progress"+d),f=parseInt(e.attr("aria-valuenow"),10),g=c+f;this.changeProgress(e,g)},changeProgress:function(a,b){var c,d,e=parseInt(a.attr("aria-valuemax"),10),f=parseInt(a.attr("aria-valuemin"),10),g=!1;b>=e?(c=b,d=e,g=!0):f>b?(c=f,d=f):(c=b,d=b),a.find("span").text(c+"%"),a.attr("aria-valuenow",c),a.css("width",d+"%"),g===!0?a.addClass("progress-bar-danger"):a.removeClass("progress-bar-danger")}});return e});